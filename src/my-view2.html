<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">

<link rel="import" href="../bower_components/promise-polyfill/promise-polyfill-lite.html">

<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/iron-localstorage/iron-localstorage.html">

<dom-module id="my-view2">
    <template>
    <style include="shared-styles">
      :host {
        display: block;

        padding: 10px;
      }
      iron-image {
          background-color: lightgray;
          margin: 1em;
        }
        .horizontal-section-container {
          display: flex;
          display: -ms-flexbox;
          display: -webkit-flex;
          -ms-flex-pack: center;
          -webkit-justify-content: center;
          justify-content: center;
          -ms-flex-wrap: wrap;
          -webkit-flex-wrap: wrap;
          flex-wrap: wrap;
        }
        .horizontal-section {
          background-color: white;
          padding: 24px;
          margin-right: 24px;
          min-width: 200px;
          box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                      0 1px 5px 0 rgba(0, 0, 0, 0.12),
                      0 3px 1px -2px rgba(0, 0, 0, 0.2);
          max-width: 300px;
          margin-bottom: 24px;
        }
    </style>

 
<div class="card">
    <h3>Favorites </h3>
     <iron-localstorage name="my-app-storage"
    value="{{favorites}}"
    on-iron-localstorage-load-empty="initializeDefaultVideos"
  ></iron-localstorage>

 
        <div fixed>
            <div class="horizontal-section-container">
                <template is="dom-repeat" items="[[favorites.items]]">
                  <div class="horizontal-section">
                    <h4><a href="[[url(item.id.videoId)]]" target="_blank">[[item.snippet.title]]</a></h4>
                    <iron-image src="[[item.snippet.thumbnails.high.url]]" width="256" height="256" sizing="cover" preload fade></iron-image>
                    <p>[[item.snippet.description]]</p>
                    
                    <paper-button><iron-icon icon="delete"></iron-icon>remove</paper-button>
                    <paper-button raised 
                    on-tap="saveVideo({{item.id.videoId}})" 
                    on-click="saveVideo"><iron-icon icon="file-download" ></iron-icon>save</paper-button>
                   </div>
                </template>
    </div>




    </template>

    <script>
        class MyView2 extends Polymer.Element {
            static get is() {
                return 'my-view2';
            }

            static get properties() {
                return {

                    favorites: {
                        type: Object,
                        value: {
                            count: 0,
                            items: [],
                        }

                    },

                    favoritesVideos: {
                        type: Array,
                        value: function() {
                            return [];
                        }
                    },


                }
            }
        }

        window.customElements.define(MyView2.is, MyView2);
    </script>
</dom-module>